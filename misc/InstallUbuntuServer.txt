# Ubuntu server installation process

# Install docker

#echo "--Add the GPG key..."
#curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
#echo "--Add the Docker repository to APT sources..."
#sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
#echo "--Update the package database with the Docker packages..."
#sudo apt-get update
#echo "--Install Docker..."
#sudo apt-get install -y docker-ce
#echo "--add 'root' to the docker group..."
#sudo usermod -aG docker ${root}
#echo "--Apply the new group membership..."
#su - ${USER}

# Install docker images and containers from docker.com
#sudo docker login -u cdore00 -p 925045 "https://index.docker.io/v1/"
#sudo docker pull cdore00/mongo_golf 
#sudo docker pull cdore00/servDB:v3
#sudo docker pull cdore00/nginx_cd:v1
#sudo docker run -d -p 192.168.10.11:27017 --name="mon_golf" cdore00/mongo_golf:v1
#sudo docker run -d -p 5000:8080 --name="servDB2" cdore00/servDB:v3
#####sudo docker run -d -p 0.0.0.0:5000:8080 --name="servDB2" cdore00/servDB:v3
#sudo docker run -d --network="host" --name="webServ" cdore00/nginx_cd:v1


# Install git
# sudo apt-get update
# sudo apt-get install git

# Install source for server and services
#echo "--Copy from git..."
cd /home
git clone https://cdore00.github.io/golf
#start.sh
#startapp.service
#sudo mkdir /etc/init
#cp /home/serv/start.sh /etc/init/start.sh
#cp /home/serv/startapp.service /etc/systemd/system/startapp.service

## Configure firewall
#sudo ufw allow 80/tcp
#sudo ufw allow 443/tcp

# Enable & startapp
#systemctl enabled startapp.service

# Add to crontab // Manual with command: crontab -e
#line="15 4 * * * sudo docker exec -ti webServ /usr/bin/certbot renew > /usr/log/certweb.log"
#(crontab -u userhere -l; echo "$line" ) | crontab -u userhere -
